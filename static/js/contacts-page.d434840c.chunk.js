"use strict";(self.webpackChunkphonebook_app=self.webpackChunkphonebook_app||[]).push([[141],{3408:function(e,t,n){n.d(t,{Z:function(){return r.Z}});var r=n(4787)},4087:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ee}});var r="styles_wrapper__xMELL",s="styles_icon__scjor",a=n(9126),o=n(577),i=n(493),l=n(4787),c=n(885),u=n(2791),d=n(6290),p=n(3408),f=n(6036),m="styles_label__zolhw",h="styles_input__OaQvx",x="styles_form__ekyuM",v="styles_submitButton__utG3H",y="styles_icon__B6WtL",b=n(532),E=n(184),g=function(){var e=(0,b.Lr)(),t=(0,c.Z)(e,1)[0],n=(0,b.wY)().data,r=new Audio(d),s=(0,u.useState)(""),a=(0,c.Z)(s,2),l=a[0],g=a[1],j=(0,u.useState)(""),C=(0,c.Z)(j,2),k=C[0],_=C[1],N=(0,u.useState)(!0),Z=(0,c.Z)(N,2),w=Z[0],z=Z[1];(0,u.useEffect)((function(){l.length>0&&k.length>0?z(!1):z(!0)}),[l,k]);return(0,E.jsxs)("form",{onSubmit:function(e){e.preventDefault();var s={name:l,number:k},a=n.find((function(e){return e.name===l||e.number===k}));if(a)return o.Am.warn("".concat(l," ").concat(k," is already in contacts."),{icon:function(){return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(f.mVl,{size:30,color:"var(--toastify-color-warning)"}),(0,E.jsx)(p.Z,{url:i})]})}}),void r.pause();t(s),g(""),_("")},className:x,children:[(0,E.jsxs)("label",{className:m,children:["Name:",(0,E.jsx)("input",{className:h,type:"text",name:"name",placeholder:"john doe",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",value:l,onChange:function(e){return g(e.currentTarget.value)},required:!0})]}),(0,E.jsxs)("label",{className:m,children:["Number:",(0,E.jsx)("input",{className:h,type:"tel",placeholder:"+380 33 333 3333",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",value:k,name:"number",onChange:function(e){return _(e.currentTarget.value)},required:!0})]}),(0,E.jsxs)("button",{onClick:function(){r.play()},className:v,type:"submit",disabled:w,"aria-label":"add contact button",children:["add contact",(0,E.jsx)(f.s7o,{size:20,className:y})]})]})},j="styles_contactsList__Ev7tc",C="styles_phoneNumber__9Ub5M",k="styles_contactName__qTuby",_="styles_listItem__U7r0n",N="styles_buttons__YXtnx",Z=n(3504),w=n(6871),z=n(6053),A=n(5672),O=n(2576),P=n(5048),S=n(2112),T=function(){return T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},T.apply(this,arguments)};function F(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}var L={color:"#38ad48",enabled:!0,size:50,style:{}},M=function(e){return parseFloat(e.toString()).toString()===e.toString()?e+"px":e.toString()},V=function(e){var t=function(t){var n=t.color,r=t.enabled,s=t.size,a=t.style,o=F(t,["color","enabled","size","style"]),i=T(T({},o),{style:T({color:n,overflow:"visible",width:M(s)},a)});return r?u.createElement(e,T({},i)):null};return t.defaultProps=L,t},B={speed:100,still:!1,thickness:100},D=T(T({},B),{secondaryColor:"rgba(0,0,0,0.44)"});function U(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===n&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}U("@keyframes spinners-react-infinity{0%{stroke-dasharray:1,347;stroke-dashoffset:75}25%,75%{stroke-dasharray:17,330}50%{stroke-dasharray:1,347}to{stroke-dasharray:1,347;stroke-dashoffset:423}}");var W=function(e){var t=e.secondaryColor,n=e.speed,r=e.still,s=e.thickness,a=F(e,["secondaryColor","speed","still","thickness"]),o=s/100*7,i=r?{}:{animation:"spinners-react-infinity "+140/n+"s linear infinite"};return u.createElement("svg",T({fill:"none",viewBox:"0 0 131 55"},a),u.createElement("defs",null,u.createElement("path",{d:"M46.57 45.5138C36.346 55.4954 19.8919 55.4954 9.66794 45.5138C-0.55598 35.5321 -0.55598 19.4678 9.66794 9.48624C19.8919 -0.495412 36.346 -0.495412 46.57 9.48624L84.4303 45.5138C94.6543 55.4954 111.108 55.4954 121.332 45.5138C131.556 35.5321 131.556 19.4678 121.332 9.48624C111.108 -0.495412 94.6543 -0.495412 84.4303 9.48624L46.57 45.5138Z",id:"spinners-react-infinity-path"})),u.createElement("use",{stroke:t,strokeWidth:o,xlinkHref:"#spinners-react-infinity-path"}),u.createElement("use",{fill:"none",stroke:"currentColor",strokeDasharray:"1, 347",strokeDashoffset:"75",strokeLinecap:"round",strokeWidth:o,style:i,xlinkHref:"#spinners-react-infinity-path"}))};W.defaultProps=D;var H=V(W),I=n.p+"static/media/delete-sound.24a5ed8c683bca72d673.mp3",R=n(3366),q=n(7462),K=n(7326),Y=n(4578),G=n(5545);function J(e,t){var n=Object.create(null);return e&&u.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,u.isValidElement)(e)?t(e):e}(e)})),n}function Q(e,t,n){return null!=n[t]?n[t]:e.props[t]}function X(e,t,n){var r=J(e.children),s=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,s=Object.create(null),a=[];for(var o in e)o in t?a.length&&(s[o]=a,a=[]):a.push(o);var i={};for(var l in t){if(s[l])for(r=0;r<s[l].length;r++){var c=s[l][r];i[s[l][r]]=n(c)}i[l]=n(l)}for(r=0;r<a.length;r++)i[a[r]]=n(a[r]);return i}(t,r);return Object.keys(s).forEach((function(a){var o=s[a];if((0,u.isValidElement)(o)){var i=a in t,l=a in r,c=t[a],d=(0,u.isValidElement)(c)&&!c.props.in;!l||i&&!d?l||!i||d?l&&i&&(0,u.isValidElement)(c)&&(s[a]=(0,u.cloneElement)(o,{onExited:n.bind(null,o),in:c.props.in,exit:Q(o,"exit",e),enter:Q(o,"enter",e)})):s[a]=(0,u.cloneElement)(o,{in:!1}):s[a]=(0,u.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:Q(o,"exit",e),enter:Q(o,"enter",e)})}})),s}var $=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},ee=function(e){function t(t,n){var r,s=(r=e.call(this,t,n)||this).handleExited.bind((0,K.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},r}(0,Y.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,s=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,J(n.children,(function(e){return(0,u.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:Q(e,"appear",n),enter:Q(e,"enter",n),exit:Q(e,"exit",n)})}))):X(e,s,a),firstRender:!1}},n.handleExited=function(e,t){var n=J(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,q.Z)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,R.Z)(e,["component","childFactory"]),s=this.state.contextValue,a=$(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?u.createElement(G.Z.Provider,{value:s},a):u.createElement(G.Z.Provider,{value:s},u.createElement(t,r,a))},t}(u.Component);ee.propTypes={},ee.defaultProps={component:"div",childFactory:function(e){return e}};var te=ee,ne=n(2147),re=n(2946),se=n(8875),ae=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,re.Z)(e,t)}))},oe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),s=r[0],a=r[1];t.removeClasses(s,"exit"),t.addClass(s,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),s=r[0],a=r[1]?"appear":"enter";t.addClass(s,a,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),s=r[0],a=r[1]?"appear":"enter";t.removeClasses(s,a),t.addClass(s,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,s=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:s,activeClassName:r?s+"-active":n[e+"Active"],doneClassName:r?s+"-done":n[e+"Done"]}},t}(0,Y.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],s=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&s&&(r+=" "+s),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return(0,ne.Z)(e,t)}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,s=n.active,a=n.done;this.appliedClasses[t]={},r&&ae(e,r),s&&ae(e,s),a&&ae(e,a)},n.render=function(){var e=this.props,t=(e.classNames,(0,R.Z)(e,["classNames"]));return u.createElement(se.ZP,(0,q.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(u.Component);oe.defaultProps={classNames:""},oe.propTypes={};var ie=oe,le=function(){var e=new Audio(I),t=(0,b.wY)(),n=t.data,r=t.isFetching,s=t.refetch,a=(0,w.TH)(),o=(0,b.Nt)(),i=(0,c.Z)(o,1)[0],l=(0,P.v9)(S.zK);(0,u.useEffect)((function(){s()}),[s]);var d=""===l?n:n.filter((function(e){return e.name.toLowerCase().includes(l.toLowerCase().trim())}));return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("ul",{className:j,children:(0,E.jsx)(te,{component:null,children:n&&d.map((function(t){var n=t.name,r=t.id,s=t.number;return(0,E.jsx)(ie,{timeout:500,classNames:"item",children:(0,E.jsxs)("li",{className:_,id:r,children:[(0,E.jsxs)("span",{className:k,children:[n,": "]}),(0,E.jsx)("span",{className:C,children:s}),(0,E.jsx)(A.Z,{placement:"bottom",overlay:(0,E.jsx)(O.Z,{id:"button-tooltip-2",children:"Click to update"}),children:(0,E.jsx)(Z.rU,{to:"update/".concat(r),state:{from:a},children:(0,E.jsx)("button",{type:"button",className:N,"aria-label":"link to update contact page",children:(0,E.jsx)(z.Eq8,{size:20})})})}),(0,E.jsx)(A.Z,{placement:"bottom",overlay:(0,E.jsx)(O.Z,{id:"button-tooltip-2",children:"Click to delete"}),children:(0,E.jsx)("button",{type:"button",className:N,onClick:function(){i(r),e.play()},"aria-label":"delete contact button",children:(0,E.jsx)(f._LP,{size:20})})})]},r)},r)}))})}),n&&0===n.length&&(0,E.jsx)("p",{style:{textDecoration:"underline"},children:"no contacts available"}),r&&(0,E.jsx)(H,{style:{color:"white"}})]})},ce="styles_wrapper__njCtW",ue="styles_text__K+7EA",de=function(){var e=(0,P.I0)(),t=(0,P.v9)(S.zK);return(0,E.jsxs)("div",{className:ce,children:[(0,E.jsx)("p",{className:ue,children:"Find contacts by name"}),(0,E.jsx)(A.Z,{placement:"bottom",overlay:(0,E.jsx)(O.Z,{id:"filter input tooltip",children:"Type here to find a contact"}),children:(0,E.jsx)("input",{name:"filter",value:t,onChange:function(t){return e((0,S.Tv)(t.currentTarget.value))}})})]})},pe=n(8063),fe=n(2485);U("@keyframes spinners-react-dotted-center{0%,15%,85%,to{transform:scale(0)}40%,50%{transform:scale(1)}84%{transform:scale(.45)}}@keyframes spinners-react-dotted-shrink{50%{transform:translate(0)}}");var me=[{x:22,y:-20},{x:29,y:0},{x:22,y:20},{x:0,y:30},{x:-23,y:20},{x:-30,y:0},{x:-23,y:-20},{x:0,y:-30}],he=function(e){var t=e.speed,n=e.still,r=e.thickness,s=F(e,["speed","still","thickness"]),a=200/t,o=function(e){return n?{}:{animation:"spinners-react-dotted-shrink "+a+"s cubic-bezier(0, 0.9, 0, 0.9) "+a/20*e+"s infinite"}},i=n?{display:"none"}:{animation:"spinners-react-dotted-center "+a+"s ease-out infinite",transformOrigin:"center"};return u.createElement("svg",T({fill:"none",viewBox:"0 0 66 66"},s),me.map((function(e,t){return u.createElement("circle",{key:e.x+"-"+e.y,cx:"33",cy:"33",fill:"currentColor",r:r/100*3,style:T({transform:"translate("+e.x+"px, "+e.y+"px)"},o(t))})})),u.createElement("circle",{cx:"33",cy:"33",fill:"currentColor",r:r/100*6,style:i}))};he.defaultProps=B;var xe=V(he),ve=n(6355),ye=function(){return(0,E.jsxs)("div",{className:"position-absolute top-50 start-50 translate-middle ","aria-label":"loading screen",children:[(0,E.jsx)("div",{className:"d-flex align-items-center mb-4",children:(0,E.jsxs)("strong",{className:"fs-2",children:["Welcome ",(0,E.jsx)(ve.aZl,{size:50,color:"black"})," to Contacts app. Now loading..."]})}),(0,E.jsxs)("div",{className:"d-flex justify-content-center",children:[" ",(0,E.jsx)(xe,{size:120,color:"black",speed:150})]})]})},be=n(6856),Ee=function(){var e=(0,P.I0)();return(0,u.useEffect)((function(){e(fe.Z.fetchCurrentUser()).unwrap().catch((function(){o.Am.error("Sorry, your authorization token expired, please relogin",{icon:function(){return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(be.vVM,{size:24,color:"var(--toastify-color-error)"}),(0,E.jsx)(l.Z,{url:i})]})}}),e(fe.Z.logOut())}))}),[e]),(0,P.v9)(pe.Z.getIsFetchingCurrentUser)?(0,E.jsx)(ye,{}):(0,E.jsxs)("div",{className:r,children:[(0,E.jsxs)("section",{children:[(0,E.jsxs)("h1",{children:["Phonebook ",(0,E.jsx)(a.Hfn,{size:35,className:s})]}),(0,E.jsx)(g,{})]}),(0,E.jsxs)("section",{children:[(0,E.jsx)("h2",{children:"Contacts"}),(0,E.jsx)(de,{}),(0,E.jsx)(le,{})]})]})}},6290:function(e,t,n){e.exports=n.p+"static/media/add-sound.49fc018b060ea35d6840.mp3"}}]);
//# sourceMappingURL=contacts-page.d434840c.chunk.js.map