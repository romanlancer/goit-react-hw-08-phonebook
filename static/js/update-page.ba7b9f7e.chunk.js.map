{"version":3,"file":"static/js/update-page.ba7b9f7e.chunk.js","mappings":"iUACA,EAAwB,sBAAxB,EAAwD,wBAAxD,EAAwH,sBAAxH,EAAqJ,qBAArJ,EAAyL,6BAAzL,EAA6N,qB,kBCkH7N,EApGmB,WACjB,IAAMA,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACTC,GAAcC,EAAAA,EAAAA,MAAdD,UACFE,EAAQ,IAAIC,MAAMC,GACxB,GAAwBC,EAAAA,EAAAA,UAAS,IAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAAsBJ,EAAAA,EAAAA,UAASP,EAASY,MAAMC,MAA9C,eAAOC,EAAP,KAAYC,EAAZ,KACA,GAAoCR,EAAAA,EAAAA,WAAS,GAA7C,eAAOS,EAAP,KAAmBC,EAAnB,KACA,GAAwBC,EAAAA,EAAAA,MAAjBC,GAAP,eACQC,GAASC,EAAAA,EAAAA,MAATD,MAORE,EAAAA,EAAAA,YAAU,WACRd,EAAKe,OAAS,GAAKb,EAAOa,OAAS,EAC/BN,GAAc,GACdA,GAAc,KACjB,CAACT,EAAME,IA+BV,OACE,gBAAKc,UAAWC,EAAhB,UACE,kBAAMC,SA/BW,SAAAC,GAOnB,GANAA,EAAEC,iBAEoBR,EAAKS,MACzB,SAAAC,GAAO,OAAIA,EAAQtB,OAASA,GAAQsB,EAAQpB,SAAWA,KAavD,OATAqB,EAAAA,GAAAA,KAAA,UAAcvB,EAAd,YAAsBE,EAAtB,4BAAwD,CACtDsB,KAAM,kBACJ,iCACE,SAAC,MAAD,CAAWC,KAAM,GAAIC,MAAM,mCAC3B,SAACC,EAAA,EAAD,CAAQrB,IAAKsB,eAInBhC,EAAMiC,QAGRlB,EAAc,CAAEjB,UAAAA,EAAWM,KAAAA,EAAME,OAAAA,IACjCK,EAAO,MACPjB,EAASgB,GA/BTL,EAAQ,IACRE,EAAU,KAwCsBa,UAAWC,EAAzC,WACE,4CACA,mBAAOD,UAAWC,EAAlB,mBAEE,kBACED,UAAWC,EACXa,KAAK,OACL9B,KAAK,OACL+B,YAAY,WACZC,QAAQ,yHACRC,MAAM,yIACNC,MAAOlC,EACPmC,SAAU,SAAAhB,GAAC,OAAIlB,EAAQkB,EAAEiB,cAAcF,QACvCG,UAAQ,QAGZ,mBAAOrB,UAAWC,EAAlB,qBAEE,kBACED,UAAWC,EACXa,KAAK,MACLC,YAAY,mBACZC,QAAQ,yFACRC,MAAM,+FACNC,MAAOhC,EACPF,KAAK,SACLmC,SAAU,SAAAhB,GAAC,OAAIhB,EAAUgB,EAAEiB,cAAcF,QACzCG,UAAQ,QAIZ,oBACEC,QAtCa,WACnB1C,EAAM2C,QAsCAvB,UAAWC,EACXa,KAAK,SACLU,SAAUhC,EACV,aAAW,wBALb,4BAQE,SAAC,MAAD,CAAUiB,KAAM,GAAIT,UAAWC,c","sources":["webpack://phonebook-app/./src/pages/update-page/styles.module.css?ea7b","pages/update-page/update-page.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"label\":\"styles_label__Md00y\",\"wrapper\":\"styles_wrapper__vCCmz\",\"fadeIn\":\"styles_fadeIn__MbkTu\",\"input\":\"styles_input__hvMmS\",\"form\":\"styles_form__0dK26\",\"submitButton\":\"styles_submitButton__dW88F\",\"icon\":\"styles_icon__sbXoW\"};","import { useState, useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport errorSound from 'assets/error-sound.mp3';\nimport { toast } from 'react-toastify';\nimport { useParams } from 'react-router-dom';\nimport addSound from 'assets/add-sound.mp3';\nimport Player from 'components/Player';\nimport { TiWarning } from 'react-icons/ti';\nimport { GrUpdate } from 'react-icons/gr';\nimport styles from './styles.module.css';\nimport {\n  useUpdateContactMutation,\n  useGetContactsQuery,\n} from 'Redux/contacts/contactsApi';\n\nconst UpdatePage = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { contactId } = useParams();\n  const audio = new Audio(addSound);\n  const [name, setName] = useState('');\n  const [number, setNumber] = useState('');\n  const [url, setUrl] = useState(location.state.from);\n  const [isDisabled, setIsDisabled] = useState(true);\n  const [updateContact] = useUpdateContactMutation();\n  const { data } = useGetContactsQuery();\n\n  const reset = () => {\n    setName('');\n    setNumber('');\n  };\n\n  useEffect(() => {\n    name.length > 0 && number.length > 0\n      ? setIsDisabled(false)\n      : setIsDisabled(true);\n  }, [name, number]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    const contactFinder = data.find(\n      contact => contact.name === name || contact.number === number\n    );\n\n    if (contactFinder) {\n      toast.warn(`${name} ${number} is already in contacts.`, {\n        icon: () => (\n          <>\n            <TiWarning size={30} color=\"var(--toastify-color-warning)\" />\n            <Player url={errorSound} />\n          </>\n        ),\n      });\n      audio.pause();\n      return;\n    }\n    updateContact({ contactId, name, number });\n    setUrl(null);\n    navigate(url);\n    reset();\n  };\n\n  const startPlaying = () => {\n    audio.play();\n  };\n\n  return (\n    <div className={styles.wrapper}>\n      <form onSubmit={handleSubmit} className={styles.form}>\n        <h1>Update contact</h1>\n        <label className={styles.label}>\n          Name:\n          <input\n            className={styles.input}\n            type=\"text\"\n            name=\"name\"\n            placeholder=\"john doe\"\n            pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n            title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n            value={name}\n            onChange={e => setName(e.currentTarget.value)}\n            required\n          />\n        </label>\n        <label className={styles.label}>\n          Number:\n          <input\n            className={styles.input}\n            type=\"tel\"\n            placeholder=\"+380 33 333 3333\"\n            pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n            title=\"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +\"\n            value={number}\n            name=\"number\"\n            onChange={e => setNumber(e.currentTarget.value)}\n            required\n          />\n        </label>\n\n        <button\n          onClick={startPlaying}\n          className={styles.submitButton}\n          type=\"submit\"\n          disabled={isDisabled}\n          aria-label=\"update contact button\"\n        >\n          update contact\n          <GrUpdate size={18} className={styles.icon} />\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default UpdatePage;\n"],"names":["navigate","useNavigate","location","useLocation","contactId","useParams","audio","Audio","addSound","useState","name","setName","number","setNumber","state","from","url","setUrl","isDisabled","setIsDisabled","useUpdateContactMutation","updateContact","data","useGetContactsQuery","useEffect","length","className","styles","onSubmit","e","preventDefault","find","contact","toast","icon","size","color","Player","errorSound","pause","type","placeholder","pattern","title","value","onChange","currentTarget","required","onClick","play","disabled"],"sourceRoot":""}