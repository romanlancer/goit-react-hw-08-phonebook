"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[141],{3408:function(e,t,n){n.d(t,{Z:function(){return r.Z}});var r=n(4787)},4087:function(e,t,n){n.r(t),n.d(t,{default:function(){return ye}});var r="styles_wrapper__xMELL",s="styles_icon__scjor",a=n(9126),i=n(885),o=n(2791),l=n(6290),c=n(493),d=n(3408),u=n(6036),p=n(577),f="styles_label__zolhw",m="styles_input__OaQvx",h="styles_form__ekyuM",x="styles_submitButton__utG3H",v="styles_icon__B6WtL",y=n(532),b=n(184),E=function(){var e=(0,y.Lr)(),t=(0,i.Z)(e,1)[0],n=(0,y.wY)().data,r=new Audio(l),s=(0,o.useState)(""),a=(0,i.Z)(s,2),E=a[0],g=a[1],j=(0,o.useState)(""),C=(0,i.Z)(j,2),_=C[0],k=C[1],N=(0,o.useState)(!0),Z=(0,i.Z)(N,2),w=Z[0],O=Z[1];(0,o.useEffect)((function(){E.length>0&&_.length>0?O(!1):O(!0)}),[E,_]);return(0,b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var s={name:E,number:_},a=n.find((function(e){return e.name===E||e.number===_}));if(a)return p.Am.warn("".concat(E," ").concat(_," is already in contacts."),{icon:function(){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.mVl,{size:30,color:"var(--toastify-color-warning)"}),(0,b.jsx)(d.Z,{url:c})]})}}),void r.pause();t(s),g(""),k("")},className:h,children:[(0,b.jsxs)("label",{className:f,children:["Name:",(0,b.jsx)("input",{className:m,type:"text",name:"name",placeholder:"john doe",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",value:E,onChange:function(e){return g(e.currentTarget.value)},required:!0})]}),(0,b.jsxs)("label",{className:f,children:["Number:",(0,b.jsx)("input",{className:m,type:"tel",placeholder:"+380 33 333 3333",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",value:_,name:"number",onChange:function(e){return k(e.currentTarget.value)},required:!0})]}),(0,b.jsxs)("button",{onClick:function(){r.play()},className:x,type:"submit",disabled:w,"aria-label":"add contact button",children:["add contact",(0,b.jsx)(u.s7o,{size:20,className:v})]})]})},g="styles_contactsList__Ev7tc",j="styles_phoneNumber__9Ub5M",C="styles_contactName__qTuby",_="styles_listItem__U7r0n",k="styles_buttons__YXtnx",N=n(3504),Z=n(6871),w=n(6053),O=n(5672),A=n(2576),z=n(5048),P=n(2112),S=function(){return S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},S.apply(this,arguments)};function T(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}var F={color:"#38ad48",enabled:!0,size:50,style:{}},L=function(e){return parseFloat(e.toString()).toString()===e.toString()?e+"px":e.toString()},M=function(e){var t=function(t){var n=t.color,r=t.enabled,s=t.size,a=t.style,i=T(t,["color","enabled","size","style"]),l=S(S({},i),{style:S({color:n,overflow:"visible",width:L(s)},a)});return r?o.createElement(e,S({},l)):null};return t.defaultProps=F,t},V={speed:100,still:!1,thickness:100},B=S(S({},V),{secondaryColor:"rgba(0,0,0,0.44)"});function D(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===n&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}D("@keyframes spinners-react-infinity{0%{stroke-dasharray:1,347;stroke-dashoffset:75}25%,75%{stroke-dasharray:17,330}50%{stroke-dasharray:1,347}to{stroke-dasharray:1,347;stroke-dashoffset:423}}");var U=function(e){var t=e.secondaryColor,n=e.speed,r=e.still,s=e.thickness,a=T(e,["secondaryColor","speed","still","thickness"]),i=s/100*7,l=r?{}:{animation:"spinners-react-infinity "+140/n+"s linear infinite"};return o.createElement("svg",S({fill:"none",viewBox:"0 0 131 55"},a),o.createElement("defs",null,o.createElement("path",{d:"M46.57 45.5138C36.346 55.4954 19.8919 55.4954 9.66794 45.5138C-0.55598 35.5321 -0.55598 19.4678 9.66794 9.48624C19.8919 -0.495412 36.346 -0.495412 46.57 9.48624L84.4303 45.5138C94.6543 55.4954 111.108 55.4954 121.332 45.5138C131.556 35.5321 131.556 19.4678 121.332 9.48624C111.108 -0.495412 94.6543 -0.495412 84.4303 9.48624L46.57 45.5138Z",id:"spinners-react-infinity-path"})),o.createElement("use",{stroke:t,strokeWidth:i,xlinkHref:"#spinners-react-infinity-path"}),o.createElement("use",{fill:"none",stroke:"currentColor",strokeDasharray:"1, 347",strokeDashoffset:"75",strokeLinecap:"round",strokeWidth:i,style:l,xlinkHref:"#spinners-react-infinity-path"}))};U.defaultProps=B;var W=M(U),H=n.p+"static/media/delete-sound.24a5ed8c683bca72d673.mp3",I=n(3366),R=n(7462),q=n(7326),K=n(4578),Y=n(5545);function G(e,t){var n=Object.create(null);return e&&o.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,o.isValidElement)(e)?t(e):e}(e)})),n}function J(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Q(e,t,n){var r=G(e.children),s=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,s=Object.create(null),a=[];for(var i in e)i in t?a.length&&(s[i]=a,a=[]):a.push(i);var o={};for(var l in t){if(s[l])for(r=0;r<s[l].length;r++){var c=s[l][r];o[s[l][r]]=n(c)}o[l]=n(l)}for(r=0;r<a.length;r++)o[a[r]]=n(a[r]);return o}(t,r);return Object.keys(s).forEach((function(a){var i=s[a];if((0,o.isValidElement)(i)){var l=a in t,c=a in r,d=t[a],u=(0,o.isValidElement)(d)&&!d.props.in;!c||l&&!u?c||!l||u?c&&l&&(0,o.isValidElement)(d)&&(s[a]=(0,o.cloneElement)(i,{onExited:n.bind(null,i),in:d.props.in,exit:J(i,"exit",e),enter:J(i,"enter",e)})):s[a]=(0,o.cloneElement)(i,{in:!1}):s[a]=(0,o.cloneElement)(i,{onExited:n.bind(null,i),in:!0,exit:J(i,"exit",e),enter:J(i,"enter",e)})}})),s}var X=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},$=function(e){function t(t,n){var r,s=(r=e.call(this,t,n)||this).handleExited.bind((0,q.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},r}(0,K.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,s=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,G(n.children,(function(e){return(0,o.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:J(e,"appear",n),enter:J(e,"enter",n),exit:J(e,"exit",n)})}))):Q(e,s,a),firstRender:!1}},n.handleExited=function(e,t){var n=G(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,R.Z)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,I.Z)(e,["component","childFactory"]),s=this.state.contextValue,a=X(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o.createElement(Y.Z.Provider,{value:s},a):o.createElement(Y.Z.Provider,{value:s},o.createElement(t,r,a))},t}(o.Component);$.propTypes={},$.defaultProps={component:"div",childFactory:function(e){return e}};var ee=$,te=n(2147),ne=n(2946),re=n(8875),se=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,ne.Z)(e,t)}))},ae=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),s=r[0],a=r[1];t.removeClasses(s,"exit"),t.addClass(s,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),s=r[0],a=r[1]?"appear":"enter";t.addClass(s,a,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),s=r[0],a=r[1]?"appear":"enter";t.removeClasses(s,a),t.addClass(s,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,s=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:s,activeClassName:r?s+"-active":n[e+"Active"],doneClassName:r?s+"-done":n[e+"Done"]}},t}(0,K.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],s=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&s&&(r+=" "+s),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return(0,te.Z)(e,t)}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,s=n.active,a=n.done;this.appliedClasses[t]={},r&&se(e,r),s&&se(e,s),a&&se(e,a)},n.render=function(){var e=this.props,t=(e.classNames,(0,I.Z)(e,["classNames"]));return o.createElement(re.ZP,(0,R.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(o.Component);ae.defaultProps={classNames:""},ae.propTypes={};var ie=ae,oe=function(){var e=new Audio(H),t=(0,y.wY)(),n=t.data,r=t.isFetching,s=t.refetch,a=(0,Z.TH)(),l=(0,y.Nt)(),c=(0,i.Z)(l,1)[0],d=(0,z.v9)(P.zK);(0,o.useEffect)((function(){s()}),[s]);var p=""===d?n:n.filter((function(e){return e.name.toLowerCase().includes(d.toLowerCase().trim())}));return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("ul",{className:g,children:(0,b.jsx)(ee,{component:null,children:n&&p.map((function(t){var n=t.name,r=t.id,s=t.number;return(0,b.jsx)(ie,{timeout:500,classNames:"item",children:(0,b.jsxs)("li",{className:_,id:r,children:[(0,b.jsxs)("span",{className:C,children:[n,": "]}),(0,b.jsx)("span",{className:j,children:s}),(0,b.jsx)(O.Z,{placement:"bottom",overlay:(0,b.jsx)(A.Z,{id:"button-tooltip-2",children:"Click to update"}),children:(0,b.jsx)(N.rU,{to:"update/".concat(r),state:{from:a},children:(0,b.jsx)("button",{type:"button",className:k,"aria-label":"link to update contact page",children:(0,b.jsx)(w.Eq8,{size:20})})})}),(0,b.jsx)(O.Z,{placement:"bottom",overlay:(0,b.jsx)(A.Z,{id:"button-tooltip-2",children:"Click to delete"}),children:(0,b.jsx)("button",{type:"button",className:k,onClick:function(){c(r),e.play()},"aria-label":"delete contact button",children:(0,b.jsx)(u._LP,{size:20})})})]},r)},r)}))})}),n&&0===n.length&&(0,b.jsx)("p",{style:{textDecoration:"underline"},children:"no contacts available"}),r&&(0,b.jsx)(W,{style:{color:"white"}})]})},le="styles_wrapper__njCtW",ce="styles_text__K+7EA",de=function(){var e=(0,z.I0)(),t=(0,z.v9)(P.zK);return(0,b.jsxs)("div",{className:le,children:[(0,b.jsx)("p",{className:ce,children:"Find contacts by name"}),(0,b.jsx)(O.Z,{placement:"bottom",overlay:(0,b.jsx)(A.Z,{id:"filter input tooltip",children:"Type here to find a contact"}),children:(0,b.jsx)("input",{name:"filter",value:t,onChange:function(t){return e((0,P.Tv)(t.currentTarget.value))}})})]})},ue=n(8063),pe=n(2485);D("@keyframes spinners-react-dotted-center{0%,15%,85%,to{transform:scale(0)}40%,50%{transform:scale(1)}84%{transform:scale(.45)}}@keyframes spinners-react-dotted-shrink{50%{transform:translate(0)}}");var fe=[{x:22,y:-20},{x:29,y:0},{x:22,y:20},{x:0,y:30},{x:-23,y:20},{x:-30,y:0},{x:-23,y:-20},{x:0,y:-30}],me=function(e){var t=e.speed,n=e.still,r=e.thickness,s=T(e,["speed","still","thickness"]),a=200/t,i=function(e){return n?{}:{animation:"spinners-react-dotted-shrink "+a+"s cubic-bezier(0, 0.9, 0, 0.9) "+a/20*e+"s infinite"}},l=n?{display:"none"}:{animation:"spinners-react-dotted-center "+a+"s ease-out infinite",transformOrigin:"center"};return o.createElement("svg",S({fill:"none",viewBox:"0 0 66 66"},s),fe.map((function(e,t){return o.createElement("circle",{key:e.x+"-"+e.y,cx:"33",cy:"33",fill:"currentColor",r:r/100*3,style:S({transform:"translate("+e.x+"px, "+e.y+"px)"},i(t))})})),o.createElement("circle",{cx:"33",cy:"33",fill:"currentColor",r:r/100*6,style:l}))};me.defaultProps=V;var he=M(me),xe=n(6355),ve=function(){return(0,b.jsxs)("div",{className:"position-absolute top-50 start-50 translate-middle ","aria-label":"loading screen",children:[(0,b.jsx)("div",{className:"d-flex align-items-center mb-4",children:(0,b.jsxs)("strong",{className:"fs-2",children:["Welcome ",(0,b.jsx)(xe.aZl,{size:50,color:"black"})," to Contacts app. Now loading..."]})}),(0,b.jsxs)("div",{className:"d-flex justify-content-center",children:[" ",(0,b.jsx)(he,{size:120,color:"black",speed:150})]})]})},ye=function(){var e=(0,z.I0)();return(0,o.useEffect)((function(){try{e(pe.Z.fetchCurrentUser())}catch(t){e(pe.Z.logOut())}}),[e]),(0,z.v9)(ue.Z.getIsFetchingCurrentUser)?(0,b.jsx)(ve,{}):(0,b.jsxs)("div",{className:r,children:[(0,b.jsxs)("section",{children:[(0,b.jsxs)("h1",{children:["Phonebook ",(0,b.jsx)(a.Hfn,{size:35,className:s})]}),(0,b.jsx)(E,{})]}),(0,b.jsxs)("section",{children:[(0,b.jsx)("h2",{children:"Contacts"}),(0,b.jsx)(de,{}),(0,b.jsx)(oe,{})]})]})}},6290:function(e,t,n){e.exports=n.p+"static/media/add-sound.49fc018b060ea35d6840.mp3"}}]);
//# sourceMappingURL=contacts-page.47920026.chunk.js.map